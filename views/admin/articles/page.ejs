<%- include ('../../partials/header.ejs') %>
<%- include ('../../partials/homenavbar.ejs') %>

<body>
    <div class="container">
        <% result.articles.rows.forEach(article => { %>
            
            <div class="card">
                <div class="card-header">
                    <h2><%= article.title %></h2>
                </div>
                <div class="card-body">
                    <a href="/<%= article.slug %>" class="btn btn-success">Ler artigo</a>
                </div>
            </div>
            <br>
            <% }) %>

            <nav aria-label="...">
                <ul class="pagination justify-content-end">
                  <li class="page-item">
                    <% if(result.page > 2 ) {%>
                        <a class="page-link"  href="/articles/page/<%= result.page -1 %>">Previous</a>
                    <%} else if(result.page == 2 ){ %>
                        <a class="page-link"  href="/">Previous</a>
                    <% } %>
                  </li>
                  <% if(result.page > 2 ) {%>
                  <li class="page-item"><a class="page-link" href="/articles/page/<%= result.page -1 %>"><%= result.page -1 %></a></li>
                  <% } %>
                  <li class="page-item active" aria-current="page">
                    <span class="page-link">
                      <%= result.page %>
                      <span class="sr-only">(current)</span>
                    </span>
                  </li>
                  <% if(result.next)  { %>
                  <li class="page-item"><a class="page-link" href="/articles/page/<%= result.page + 1%>"><%= result.page +1 %></a></li>
                  <li class="page-item">
                    <a class="page-link" href="/articles/page/<%= result.page + 1%>">Next</a>
                    <% } %>
                  </li>
                </ul>
              </nav>
    </div>
</body>

<%- include ('../../partials/footer.ejs') %>